#!/bin/bash
# –°–∫—Ä–∏–ø—Ç –ø–æ–¥–≥–æ—Ç–æ–≤–∫–∏ –ø—Ä–æ–µ–∫—Ç–∞ –∫ —Ä–∞–∑–≤–µ—Ä—Ç—ã–≤–∞–Ω–∏—é

echo "üßπ –ü–æ–¥–≥–æ—Ç–æ–≤–∫–∞ –ø—Ä–æ–µ–∫—Ç–∞ –∫ —Ä–∞–∑–≤–µ—Ä—Ç—ã–≤–∞–Ω–∏—é..."

# –û—á–∏—Å—Ç–∫–∞ –≤—Ä–µ–º–µ–Ω–Ω—ã—Ö —Ñ–∞–π–ª–æ–≤
python scripts/cleanup.py

# –£–¥–∞–ª–µ–Ω–∏–µ venv –µ—Å–ª–∏ –µ—Å—Ç—å
if [ -d "venv" ]; then
    echo "‚ö†Ô∏è  –ü–∞–ø–∫–∞ venv –±—É–¥–µ—Ç —É–¥–∞–ª–µ–Ω–∞ (–Ω–µ –Ω—É–∂–Ω–∞ –Ω–∞ —Å–µ—Ä–≤–µ—Ä–µ)"
    read -p "–£–¥–∞–ª–∏—Ç—å venv? (y/n) " -n 1 -r
    echo
    if [[ $REPLY =~ ^[Yy]$ ]]; then
        rm -rf venv
        echo "‚úì venv —É–¥–∞–ª–µ–Ω–∞"
    fi
fi

# –ü—Ä–æ–≤–µ—Ä–∫–∞ –Ω–∞–ª–∏—á–∏—è —à–∞–±–ª–æ–Ω–∞
if [ ! -f "files/–®–∞–±–ª–æ–Ω.docx" ]; then
    echo "‚ùå –û–®–ò–ë–ö–ê: –§–∞–π–ª files/–®–∞–±–ª–æ–Ω.docx –Ω–µ –Ω–∞–π–¥–µ–Ω!"
    echo "   –£–±–µ–¥–∏—Ç–µ—Å—å —á—Ç–æ —à–∞–±–ª–æ–Ω –ø—Ä–∏—Å—É—Ç—Å—Ç–≤—É–µ—Ç –ø–µ—Ä–µ–¥ —Ä–∞–∑–≤–µ—Ä—Ç—ã–≤–∞–Ω–∏–µ–º"
    exit 1
fi

echo "‚úÖ –ü—Ä–æ–µ–∫—Ç –≥–æ—Ç–æ–≤ –∫ —Ä–∞–∑–≤–µ—Ä—Ç—ã–≤–∞–Ω–∏—é!"
echo ""
echo "–°–ª–µ–¥—É—é—â–∏–µ —à–∞–≥–∏:"
echo "1. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ —Ñ–∞–π–ª .gitignore"
echo "2. –ù–∞—Å—Ç—Ä–æ–π—Ç–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è (—Å–º. env.example)"
echo "3. –ó–∞–≥—Ä—É–∑–∏—Ç–µ –Ω–∞ —Å–µ—Ä–≤–µ—Ä (—Å–º. DEPLOY.md)"

