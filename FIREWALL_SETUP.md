# üî• –ù–∞—Å—Ç—Ä–æ–π–∫–∞ —Ñ–∞–π—Ä–≤–æ–ª–∞ –¥–ª—è –¥–æ—Å—Ç—É–ø–∞ –∫ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—é

## –ü—Ä–æ–±–ª–µ–º–∞: –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –Ω–µ–¥–æ—Å—Ç—É–ø–Ω–æ –∏–∑–≤–Ω–µ

–ï—Å–ª–∏ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –∑–∞–ø—É—â–µ–Ω–æ, –Ω–æ –Ω–µ–¥–æ—Å—Ç—É–ø–Ω–æ –ø–æ IP —Å–µ—Ä–≤–µ—Ä–∞, —Å–∫–æ—Ä–µ–µ –≤—Å–µ–≥–æ –ø—Ä–æ–±–ª–µ–º–∞ –≤ —Ñ–∞–π—Ä–≤–æ–ª–µ.

## –†–µ—à–µ–Ω–∏–µ –¥–ª—è Ubuntu/Debian (ufw):

```bash
# –ü—Ä–æ–≤–µ—Ä—å—Ç–µ —Å—Ç–∞—Ç—É—Å —Ñ–∞–π—Ä–≤–æ–ª–∞
sudo ufw status

# –û—Ç–∫—Ä–æ–π—Ç–µ –ø–æ—Ä—Ç 8000
sudo ufw allow 8000/tcp

# –ò–ª–∏ –¥–ª—è –∫–æ–Ω–∫—Ä–µ—Ç–Ω–æ–≥–æ IP (–±–µ–∑–æ–ø–∞—Å–Ω–µ–µ)
sudo ufw allow from –≤–∞—à_ip to any port 8000

# –ü—Ä–∏–º–µ–Ω–∏—Ç–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è
sudo ufw reload

# –ü—Ä–æ–≤–µ—Ä—å—Ç–µ —á—Ç–æ –ø–æ—Ä—Ç –æ—Ç–∫—Ä—ã—Ç
sudo ufw status | grep 8000
```

## –†–µ—à–µ–Ω–∏–µ –¥–ª—è CentOS/RHEL (firewalld):

```bash
# –ü—Ä–æ–≤–µ—Ä—å—Ç–µ —Å—Ç–∞—Ç—É—Å
sudo firewall-cmd --state

# –û—Ç–∫—Ä–æ–π—Ç–µ –ø–æ—Ä—Ç 8000
sudo firewall-cmd --permanent --add-port=8000/tcp

# –ü—Ä–∏–º–µ–Ω–∏—Ç–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è
sudo firewall-cmd --reload

# –ü—Ä–æ–≤–µ—Ä—å—Ç–µ
sudo firewall-cmd --list-ports
```

## –†–µ—à–µ–Ω–∏–µ –¥–ª—è iptables:

```bash
# –û—Ç–∫—Ä—ã—Ç—å –ø–æ—Ä—Ç 8000
sudo iptables -A INPUT -p tcp --dport 8000 -j ACCEPT

# –°–æ—Ö—Ä–∞–Ω–∏—Ç—å –ø—Ä–∞–≤–∏–ª–∞ (Ubuntu/Debian)
sudo iptables-save | sudo tee /etc/iptables/rules.v4

# –ò–ª–∏ –¥–ª—è CentOS/RHEL
sudo service iptables save
```

## –ü—Ä–æ–≤–µ—Ä–∫–∞ –¥–æ—Å—Ç—É–ø–Ω–æ—Å—Ç–∏:

### 1. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ —á—Ç–æ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä —Å–ª—É—à–∞–µ—Ç –Ω–∞ –ø—Ä–∞–≤–∏–ª—å–Ω–æ–º –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–µ:

```bash
# –í–Ω—É—Ç—Ä–∏ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞
docker exec guap netstat -tuln | grep 8000

# –î–æ–ª–∂–Ω–æ –ø–æ–∫–∞–∑–∞—Ç—å: 0.0.0.0:8000 –∏–ª–∏ :::8000
```

### 2. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ —á—Ç–æ Docker –ø—Ä–æ–±—Ä–∞—Å—ã–≤–∞–µ—Ç –ø–æ—Ä—Ç:

```bash
# –ù–∞ —Ö–æ—Å—Ç–µ
sudo netstat -tuln | grep 8000
# –∏–ª–∏
sudo ss -tuln | grep 8000

# –î–æ–ª–∂–Ω–æ –ø–æ–∫–∞–∑–∞—Ç—å —á—Ç–æ –ø–æ—Ä—Ç —Å–ª—É—à–∞–µ—Ç—Å—è –Ω–∞ 0.0.0.0:8000
```

### 3. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –¥–æ—Å—Ç—É–ø–Ω–æ—Å—Ç—å –ª–æ–∫–∞–ª—å–Ω–æ:

```bash
# –° —Å–µ—Ä–≤–µ—Ä–∞
curl http://localhost:8000
curl http://127.0.0.1:8000

# –î–æ–ª–∂–Ω–æ –≤–µ—Ä–Ω—É—Ç—å HTML —Å—Ç—Ä–∞–Ω–∏—Ü—É
```

### 4. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –¥–æ—Å—Ç—É–ø–Ω–æ—Å—Ç—å –∏–∑–≤–Ω–µ:

```bash
# –° –¥—Ä—É–≥–æ–≥–æ –∫–æ–º–ø—å—é—Ç–µ—Ä–∞
curl http://IP_–í–ê–®–ï–ì–û_–°–ï–†–í–ï–†–ê:8000

# –ò–ª–∏ –æ—Ç–∫—Ä–æ–π—Ç–µ –≤ –±—Ä–∞—É–∑–µ—Ä–µ
http://IP_–í–ê–®–ï–ì–û_–°–ï–†–í–ï–†–ê:8000
```

## –ï—Å–ª–∏ –ø–æ—Ä—Ç –≤—Å–µ –µ—â–µ –Ω–µ–¥–æ—Å—Ç—É–ø–µ–Ω:

### –í–∞—Ä–∏–∞–Ω—Ç 1: –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –¥—Ä—É–≥–æ–π –ø–æ—Ä—Ç (–Ω–∞–ø—Ä–∏–º–µ—Ä 80 –∏–ª–∏ 8080)

–ò–∑–º–µ–Ω–∏—Ç–µ `docker-compose.yml`:
```yaml
ports:
  - "0.0.0.0:80:8000"  # –í–Ω–µ—à–Ω–∏–π –ø–æ—Ä—Ç 80, –≤–Ω—É—Ç—Ä–µ–Ω–Ω–∏–π 8000
```

–ò–ª–∏:
```yaml
ports:
  - "0.0.0.0:8080:8000"  # –í–Ω–µ—à–Ω–∏–π –ø–æ—Ä—Ç 8080
```

### –í–∞—Ä–∏–∞–Ω—Ç 2: –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å Nginx –∫–∞–∫ reverse proxy

–°–æ–∑–¥–∞–π—Ç–µ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—é Nginx:
```nginx
server {
    listen 80;
    server_name –≤–∞—à_–¥–æ–º–µ–Ω.com;  # –∏–ª–∏ IP

    location / {
        proxy_pass http://127.0.0.1:8000;
        proxy_set_header Host $host;
        proxy_set_header X-Real-IP $remote_addr;
        proxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for;
        proxy_set_header X-Forwarded-Proto $scheme;
    }
}
```

## –ü—Ä–æ–≤–µ—Ä–∫–∞ Docker —Å–µ—Ç–µ–π:

```bash
# –ü—Ä–æ–≤–µ—Ä—å—Ç–µ —Å–µ—Ç—å Docker
docker network ls
docker network inspect bridge

# –£–±–µ–¥–∏—Ç–µ—Å—å —á—Ç–æ –ø–æ—Ä—Ç –ø—Ä–æ–±—Ä–æ—à–µ–Ω –ø—Ä–∞–≤–∏–ª—å–Ω–æ
docker port guap
```

## –ë—ã—Å—Ç—Ä–∞—è –ø—Ä–æ–≤–µ—Ä–∫–∞ –≤—Å–µ—Ö –Ω–∞—Å—Ç—Ä–æ–µ–∫:

```bash
# 1. –ü—Ä–æ–≤–µ—Ä–∫–∞ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞
docker ps | grep guap

# 2. –ü—Ä–æ–≤–µ—Ä–∫–∞ –ø–æ—Ä—Ç–æ–≤ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞
docker port guap

# 3. –ü—Ä–æ–≤–µ—Ä–∫–∞ –ª–æ–≥–æ–≤
docker-compose logs --tail=50 guap | grep -i "start\|listen\|error"

# 4. –ü—Ä–æ–≤–µ—Ä–∫–∞ —Ñ–∞–π—Ä–≤–æ–ª–∞
sudo ufw status  # –∏–ª–∏ firewall-cmd --list-all

# 5. –¢–µ—Å—Ç –¥–æ—Å—Ç—É–ø–Ω–æ—Å—Ç–∏
curl -v http://localhost:8000
```

## –¢–∏–ø–∏—á–Ω—ã–µ –ø—Ä–æ–±–ª–µ–º—ã:

1. **–§–∞–π—Ä–≤–æ–ª –±–ª–æ–∫–∏—Ä—É–µ—Ç –ø–æ—Ä—Ç** - –æ—Ç–∫—Ä–æ–π—Ç–µ –ø–æ—Ä—Ç (—Å–º. –≤—ã—à–µ)
2. **Docker –Ω–µ –ø—Ä–æ–±—Ä–∞—Å—ã–≤–∞–µ—Ç –ø–æ—Ä—Ç** - –ø—Ä–æ–≤–µ—Ä—å—Ç–µ `docker-compose.yml`
3. **–ü—Ä–∏–ª–æ–∂–µ–Ω–∏–µ —Å–ª—É—à–∞–µ—Ç –Ω–∞ 127.0.0.1** - –¥–æ–ª–∂–Ω–æ –±—ã—Ç—å 0.0.0.0 (—É–∂–µ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–æ)
4. **–ü—Ä–æ–≤–∞–π–¥–µ—Ä –±–ª–æ–∫–∏—Ä—É–µ—Ç –ø–æ—Ä—Ç** - –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ —Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω—ã–µ –ø–æ—Ä—Ç—ã (80, 443) –∏–ª–∏ –Ω–∞—Å—Ç—Ä–æ–π—Ç–µ VPN

