# –ß–µ–∫–ª–∏—Å—Ç –¥–ª—è –¥–µ–ø–ª–æ—è –ø—Ä–æ–µ–∫—Ç–∞ –Ω–∞ —Å–µ—Ä–≤–µ—Ä–µ

## ‚úÖ –û–±—è–∑–∞—Ç–µ–ª—å–Ω—ã–µ —Ñ–∞–π–ª—ã –¥–ª—è –∑–∞–ø—É—Å–∫–∞

### 1. Docker —Ñ–∞–π–ª—ã
- ‚úÖ **Dockerfile** - –ø—Ä–∏—Å—É—Ç—Å—Ç–≤—É–µ—Ç, –Ω–∞—Å—Ç—Ä–æ–µ–Ω –ø—Ä–∞–≤–∏–ª—å–Ω–æ
  - –ò—Å–ø–æ–ª—å–∑—É–µ—Ç Python 3.11-slim
  - –£—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ—Ç –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –∏–∑ requirements.txt
  - –°–æ–∑–¥–∞–µ—Ç –Ω–µ–æ–±—Ö–æ–¥–∏–º—ã–µ –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏–∏
  - –ó–∞–ø—É—Å–∫–∞–µ—Ç —á–µ—Ä–µ–∑ `python run_all.py`
  
- ‚úÖ **docker-compose.yml** - –ø—Ä–∏—Å—É—Ç—Å—Ç–≤—É–µ—Ç, –Ω–∞—Å—Ç—Ä–æ–µ–Ω –ø—Ä–∞–≤–∏–ª—å–Ω–æ
  - –ü–æ—Ä—Ç: 8000
  - –ò—Å–ø–æ–ª—å–∑—É–µ—Ç .env —Ñ–∞–π–ª
  - Volume –¥–ª—è –ø–∞–ø–∫–∏ files
  - Healthcheck –Ω–∞—Å—Ç—Ä–æ–µ–Ω

### 2. –ó–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏
- ‚úÖ **requirements.txt** - –ø—Ä–∏—Å—É—Ç—Å—Ç–≤—É–µ—Ç
  - requests>=2.31.0
  - python-docx>=1.1.0
  - openai>=1.40.0
  - docxtpl>=0.16.7
  - fastapi>=0.104.0
  - uvicorn[standard]>=0.24.0
  - python-multipart>=0.0.6
  - python-telegram-bot>=20.0
  - python-dotenv (–Ω—É–∂–Ω–æ –¥–æ–±–∞–≤–∏—Ç—å!)

### 3. –¢–æ—á–∫–∏ –≤—Ö–æ–¥–∞
- ‚úÖ **api.py** - –≥–ª–∞–≤–Ω—ã–π —Ñ–∞–π–ª FastAPI –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è
- ‚úÖ **run_all.py** - –∑–∞–ø—É—Å–∫–∞–µ—Ç –≤–µ–±-—Å–µ—Ä–≤–µ—Ä –∏ Telegram –±–æ—Ç
- ‚úÖ **main.py** - CLI –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)

### 4. –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–æ–Ω–Ω—ã–µ —Ñ–∞–π–ª—ã
- ‚úÖ **config/env.example** - –ø—Ä–∏–º–µ—Ä .env —Ñ–∞–π–ª–∞
- ‚ö†Ô∏è **.env** - –Ω—É–∂–Ω–æ —Å–æ–∑–¥–∞—Ç—å –Ω–∞ —Å–µ—Ä–≤–µ—Ä–µ!
- ‚úÖ **Procfile** - –¥–ª—è Railway/Heroku
- ‚úÖ **railway.json** - –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è –¥–ª—è Railway
- ‚úÖ **config/runtime.txt** - –≤–µ—Ä—Å–∏—è Python (3.11.0)

### 5. –ù–µ–æ–±—Ö–æ–¥–∏–º—ã–µ —Ñ–∞–π–ª—ã –¥–∞–Ω–Ω—ã—Ö
- ‚ö†Ô∏è **files/–®–∞–±–ª–æ–Ω.docx** - —à–∞–±–ª–æ–Ω –¥–æ–∫—É–º–µ–Ω—Ç–∞ (–æ–±—è–∑–∞—Ç–µ–ª–µ–Ω!)
- ‚ö†Ô∏è **template_tables.json** - –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è —Ç–∞–±–ª–∏—Ü (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ, –Ω–æ —Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è)
- ‚ö†Ô∏è **template_variables.json** - –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ —à–∞–±–ª–æ–Ω–∞ (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)

## ‚ö†Ô∏è –ß—Ç–æ –Ω—É–∂–Ω–æ –ø—Ä–æ–≤–µ—Ä–∏—Ç—å/—Å–æ–∑–¥–∞—Ç—å –Ω–∞ —Å–µ—Ä–≤–µ—Ä–µ

### 1. –§–∞–π–ª .env
–°–æ–∑–¥–∞–π—Ç–µ —Ñ–∞–π–ª `.env` –≤ –∫–æ—Ä–Ω–µ –ø—Ä–æ–µ–∫—Ç–∞ —Å–æ —Å–ª–µ–¥—É—é—â–∏–º —Å–æ–¥–µ—Ä–∂–∏–º—ã–º:

```env
# Perplexity API Key (–û–ë–Ø–ó–ê–¢–ï–õ–¨–ù–û!)
PPLX_API_KEY=your_perplexity_api_key_here

# Telegram Bot Token (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ, –µ—Å–ª–∏ –Ω–µ –Ω—É–∂–µ–Ω –±–æ—Ç)
TELEGRAM_BOT_TOKEN=your_telegram_bot_token_here

# –ü–æ—Ä—Ç –¥–ª—è –≤–µ–±-—Å–µ—Ä–≤–µ—Ä–∞ (–ø–æ —É–º–æ–ª—á–∞–Ω–∏—é 8000)
PORT=8000
```

### 2. –ü–∞–ø–∫–∞ files –∏ —à–∞–±–ª–æ–Ω
–£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ:
- –ü–∞–ø–∫–∞ `files/` —Å—É—â–µ—Å—Ç–≤—É–µ—Ç
- –§–∞–π–ª `files/–®–∞–±–ª–æ–Ω.docx` –ø—Ä–∏—Å—É—Ç—Å—Ç–≤—É–µ—Ç
- –ü–∞–ø–∫–∏ —Å–æ–∑–¥–∞–Ω—ã –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –ø—Ä–∏ –∑–∞–ø—É—Å–∫–µ:
  - `files/uploads/`
  - `files/results/`
  - `files/variables/`
  - `files/telegram_uploads/` (–µ—Å–ª–∏ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –±–æ—Ç)
  - `files/telegram_results/` (–µ—Å–ª–∏ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –±–æ—Ç)

### 3. JSON —Ñ–∞–π–ª—ã –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏
- `template_tables.json` - –¥–æ–ª–∂–µ–Ω –±—ã—Ç—å –≤ –∫–æ—Ä–Ω–µ –∏–ª–∏ –≤ `files/`
- `template_variables.json` - –æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ

## üîß –ö–æ–º–∞–Ω–¥—ã –¥–ª—è –∑–∞–ø—É—Å–∫–∞ –Ω–∞ —Å–µ—Ä–≤–µ—Ä–µ

### –í–∞—Ä–∏–∞–Ω—Ç 1: Docker Compose (—Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è)

```bash
# 1. –°–æ–∑–¥–∞–π—Ç–µ .env —Ñ–∞–π–ª
cp config/env.example .env
# –û—Ç—Ä–µ–¥–∞–∫—Ç–∏—Ä—É–π—Ç–µ .env –∏ —É–∫–∞–∂–∏—Ç–µ —Ä–µ–∞–ª—å–Ω—ã–µ –∑–Ω–∞—á–µ–Ω–∏—è

# 2. –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ —Ñ–∞–π–ª –®–∞–±–ª–æ–Ω.docx —Å—É—â–µ—Å—Ç–≤—É–µ—Ç
ls files/–®–∞–±–ª–æ–Ω.docx

# 3. –ó–∞–ø—É—Å—Ç–∏—Ç–µ —á–µ—Ä–µ–∑ docker-compose
docker-compose up -d

# 4. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ª–æ–≥–∏
docker-compose logs -f

# 5. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –∑–¥–æ—Ä–æ–≤—å–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è
curl http://localhost:8000/
```

### –í–∞—Ä–∏–∞–Ω—Ç 2: Docker –Ω–∞–ø—Ä—è–º—É—é

```bash
# 1. –°–æ–∑–¥–∞–π—Ç–µ .env —Ñ–∞–π–ª
cp config/env.example .env
# –û—Ç—Ä–µ–¥–∞–∫—Ç–∏—Ä—É–π—Ç–µ .env

# 2. –°–æ–±–µ—Ä–∏—Ç–µ –æ–±—Ä–∞–∑
docker build -t guap-app .

# 3. –ó–∞–ø—É—Å—Ç–∏—Ç–µ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä
docker run -d \
  --name guap \
  -p 8000:8000 \
  --env-file .env \
  -v $(pwd)/files:/app/files \
  guap-app

# 4. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ª–æ–≥–∏
docker logs -f guap
```

### –í–∞—Ä–∏–∞–Ω—Ç 3: –ë–µ–∑ Docker (–Ω–∞–ø—Ä—è–º—É—é Python)

```bash
# 1. –£—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏
pip install -r requirements.txt

# 2. –°–æ–∑–¥–∞–π—Ç–µ .env —Ñ–∞–π–ª
cp config/env.example .env
# –û—Ç—Ä–µ–¥–∞–∫—Ç–∏—Ä—É–π—Ç–µ .env

# 3. –ó–∞–ø—É—Å—Ç–∏—Ç–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ
python run_all.py
```

## üîç –ü—Ä–æ–≤–µ—Ä–∫–∞ —Ä–∞–±–æ—Ç–æ—Å–ø–æ—Å–æ–±–Ω–æ—Å—Ç–∏

### 1. –ü—Ä–æ–≤–µ—Ä–∫–∞ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö –æ–∫—Ä—É–∂–µ–Ω–∏—è
–ü—Ä–∏ –∑–∞–ø—É—Å–∫–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –≤—ã–≤–µ–¥–µ—Ç:
- ‚úÖ PPLX_API_KEY —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω
- ‚úÖ TELEGRAM_BOT_TOKEN —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω (–µ—Å–ª–∏ —É–∫–∞–∑–∞–Ω)
- ‚úÖ –®–∞–±–ª–æ–Ω –Ω–∞–π–¥–µ–Ω: files/–®–∞–±–ª–æ–Ω.docx

### 2. –ü—Ä–æ–≤–µ—Ä–∫–∞ –≤–µ–±-—Å–µ—Ä–≤–µ—Ä–∞
```bash
# –ü—Ä–æ–≤–µ—Ä–∫–∞ –≥–ª–∞–≤–Ω–æ–π —Å—Ç—Ä–∞–Ω–∏—Ü—ã
curl http://localhost:8000/

# –ü—Ä–æ–≤–µ—Ä–∫–∞ API –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö
curl http://localhost:8000/template/variables

# –ü—Ä–æ–≤–µ—Ä–∫–∞ API —Ç–∞–±–ª–∏—Ü
curl http://localhost:8000/template/tables
```

### 3. –ü—Ä–æ–≤–µ—Ä–∫–∞ —á–µ—Ä–µ–∑ –±—Ä–∞—É–∑–µ—Ä
–û—Ç–∫—Ä–æ–π—Ç–µ –≤ –±—Ä–∞—É–∑–µ—Ä–µ: `http://your-server-ip:8000/`

## ‚ö†Ô∏è –ü–æ—Ç–µ–Ω—Ü–∏–∞–ª—å–Ω—ã–µ –ø—Ä–æ–±–ª–µ–º—ã

### 1. –û—Ç—Å—É—Ç—Å—Ç–≤—É–µ—Ç python-dotenv –≤ requirements.txt
**–†–µ—à–µ–Ω–∏–µ:** –î–æ–±–∞–≤—å—Ç–µ `python-dotenv>=1.0.0` –≤ requirements.txt

### 2. –§–∞–π–ª –®–∞–±–ª–æ–Ω.docx –Ω–µ –Ω–∞–π–¥–µ–Ω
**–û—à–∏–±–∫–∞:** `‚ùå –®–∞–±–ª–æ–Ω –ù–ï –Ω–∞–π–¥–µ–Ω: files/–®–∞–±–ª–æ–Ω.docx`
**–†–µ—à–µ–Ω–∏–µ:** –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ —Ñ–∞–π–ª —Å—É—â–µ—Å—Ç–≤—É–µ—Ç –≤ –ø–∞–ø–∫–µ `files/`

### 3. PPLX_API_KEY –Ω–µ —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω
**–û—à–∏–±–∫–∞:** `‚ö†Ô∏è PPLX_API_KEY –ù–ï —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω! API –∑–∞–ø—Ä–æ—Å—ã –Ω–µ –±—É–¥—É—Ç —Ä–∞–±–æ—Ç–∞—Ç—å.`
**–†–µ—à–µ–Ω–∏–µ:** –î–æ–±–∞–≤—å—Ç–µ –∫–ª—é—á –≤ .env —Ñ–∞–π–ª

### 4. –ü–æ—Ä—Ç —É–∂–µ –∑–∞–Ω—è—Ç
**–û—à–∏–±–∫–∞:** `Address already in use`
**–†–µ—à–µ–Ω–∏–µ:** –ò–∑–º–µ–Ω–∏—Ç–µ PORT –≤ .env –∏–ª–∏ –æ—Å–≤–æ–±–æ–¥–∏—Ç–µ –ø–æ—Ä—Ç 8000

### 5. –ü—Ä–æ–±–ª–µ–º—ã —Å –ø—Ä–∞–≤–∞–º–∏ –¥–æ—Å—Ç—É–ø–∞ –∫ –ø–∞–ø–∫–µ files
**–†–µ—à–µ–Ω–∏–µ:** –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ –ø–∞–ø–∫–∞ files –¥–æ—Å—Ç—É–ø–Ω–∞ –¥–ª—è –∑–∞–ø–∏—Å–∏:
```bash
chmod -R 755 files/
```

## üìù –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏

### –î–ª—è Railway
- –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ `railway.json` –¥–ª—è –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏
- –£—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è —á–µ—Ä–µ–∑ –ø–∞–Ω–µ–ª—å Railway
- –§–∞–π–ª `Procfile` –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏

### –î–ª—è Heroku
- –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ `Procfile`
- –£—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è —á–µ—Ä–µ–∑ `heroku config:set`

### –î–ª—è –æ–±—ã—á–Ω–æ–≥–æ VPS
- –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ systemd –¥–ª—è –∞–≤—Ç–æ–∑–∞–ø—É—Å–∫–∞
- –ù–∞—Å—Ç—Ä–æ–π—Ç–µ nginx –∫–∞–∫ reverse proxy
- –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ supervisor –∏–ª–∏ pm2 –¥–ª—è —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –ø—Ä–æ—Ü–µ—Å—Å–æ–º

## ‚úÖ –ò—Ç–æ–≥–æ–≤—ã–π —á–µ–∫–ª–∏—Å—Ç –ø–µ—Ä–µ–¥ –¥–µ–ø–ª–æ–µ–º

- [ ] Dockerfile –ø—Ä–æ–≤–µ—Ä–µ–Ω –∏ —Ä–∞–±–æ—Ç–∞–µ—Ç
- [ ] docker-compose.yml –Ω–∞—Å—Ç—Ä–æ–µ–Ω
- [ ] requirements.txt —Å–æ–¥–µ—Ä–∂–∏—Ç –≤—Å–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ (–≤–∫–ª—é—á–∞—è python-dotenv)
- [ ] .env —Ñ–∞–π–ª —Å–æ–∑–¥–∞–Ω —Å —Ä–µ–∞–ª—å–Ω—ã–º–∏ –∑–Ω–∞—á–µ–Ω–∏—è–º–∏
- [ ] –§–∞–π–ª files/–®–∞–±–ª–æ–Ω.docx –ø—Ä–∏—Å—É—Ç—Å—Ç–≤—É–µ—Ç
- [ ] –ü–∞–ø–∫–∞ files/ –¥–æ—Å—Ç—É–ø–Ω–∞ –¥–ª—è –∑–∞–ø–∏—Å–∏
- [ ] PPLX_API_KEY —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω –∏ –≤–∞–ª–∏–¥–µ–Ω
- [ ] TELEGRAM_BOT_TOKEN —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω (–µ—Å–ª–∏ –Ω—É–∂–µ–Ω –±–æ—Ç)
- [ ] –ü–æ—Ä—Ç 8000 —Å–≤–æ–±–æ–¥–µ–Ω –∏–ª–∏ –∏–∑–º–µ–Ω–µ–Ω –≤ .env
- [ ] template_tables.json –ø—Ä–∏—Å—É—Ç—Å—Ç–≤—É–µ—Ç (—Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è)
- [ ] –ü—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –∑–∞–ø—É—Å–∫–∞–µ—Ç—Å—è –±–µ–∑ –æ—à–∏–±–æ–∫
- [ ] –í–µ–±-–∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å –¥–æ—Å—Ç—É–ø–µ–Ω –ø–æ http://server:8000/
- [ ] API endpoints —Ä–∞–±–æ—Ç–∞—é—Ç (/template/variables, /template/tables)

